<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine's Week for Kiki ğŸ’</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Caveat:wght@400;600;700&family=Cinzel:wght@400;600&display=swap" rel="stylesheet">
<style>
/* ============================================================
   VALENTINE'S WEEK â€” 7 Days, 1 Page
   Feb 8 (Rose) â†’ Feb 14 (Kiss Day)
   For: Balaji â†’ Krithika
   ============================================================ */

:root {
    --pink-soft: #fce4ec;
    --pink-mid: #f48fb1;
    --pink-hot: #e91e63;
    --red-deep: #c2185b;
    --cream: #fff5f7;
    --charcoal: #3e2029;
    --gold: #d4af37;
    --choc-dark: #3e1f0e;
    --choc-mid: #6d3a1f;
    --choc-light: #a0522d;
    --teddy-brown: #c68642;
    --teddy-light: #e8a96c;
    --promise-parchment: #f5e6c8;
    --promise-ink: #2c1810;
}

* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; min-height:100%; overflow-x:hidden; }

body {
    font-family: 'Playfair Display', serif;
    color: var(--charcoal);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: background 0.8s ease;
    background: var(--cream);
}

/* -------- FLOATING PARTICLES (shared) -------- */
.particle-layer {
    position: fixed; inset:0;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
}
.particle {
    position: absolute;
    top: -50px;
    opacity: 0;
    animation: particleFall linear infinite;
}
@keyframes particleFall {
    0%   { transform: translateY(-50px) rotate(0deg); opacity:0; }
    5%   { opacity: 0.75; }
    90%  { opacity: 0.45; }
    100% { transform: translateY(110vh) rotate(720deg); opacity:0; }
}

/* -------- SHARED CARD -------- */
.day-card {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: 2.8rem 2.2rem 2.4rem;
    max-width: 520px;
    width: 92%;
    background: rgba(255,255,255,0.88);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    border-radius: 30px;
    box-shadow: 0 10px 44px rgba(0,0,0,0.1), 0 2px 6px rgba(0,0,0,0.05);
    border: 1px solid rgba(255,255,255,0.6);
    animation: cardIn 0.75s cubic-bezier(0.175,0.885,0.32,1.275) both;
}
@keyframes cardIn {
    from { opacity:0; transform: translateY(28px) scale(0.96); }
    to   { opacity:1; transform: translateY(0) scale(1); }
}

/* -------- DAY BADGE -------- */
.day-badge {
    display: inline-block;
    font-family: 'Cinzel', serif;
    font-size: 0.78rem;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    padding: 6px 18px;
    border-radius: 50px;
    margin-bottom: 1rem;
    font-weight: 600;
}

/* -------- SHARED HEADLINE -------- */
.day-headline {
    font-size: clamp(1.6rem, 5.5vw, 2.2rem);
    font-weight: 700;
    line-height: 1.3;
    margin-bottom: 0.35rem;
}
.day-headline .name { font-style: italic; }

.day-sub {
    font-family: 'Caveat', cursive;
    font-size: 1.15rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
}

/* -------- CONFETTI CANVAS -------- */
#confettiCanvas {
    position:fixed; inset:0;
    pointer-events:none; z-index:1;
}

/* ============================================================
   COUNTDOWN SCREEN (before Feb 8)
   ============================================================ */
.countdown-screen .day-card { max-width: 440px; }
.countdown-screen .big-emoji { font-size:4.5rem; display:block; margin-bottom:0.5rem; animation: pulse 2s ease-in-out infinite; }
@keyframes pulse { 0%,100%{transform:scale(1)} 50%{transform:scale(1.12)} }
.countdown-screen h1 { font-size: clamp(1.8rem,6vw,2.5rem); color: var(--pink-hot); margin-bottom:0.3rem; }
.countdown-screen .sub { font-family:'Caveat',cursive; font-size:1.1rem; color:var(--pink-mid); margin-bottom:1.6rem; }
.countdown-numbers { display:flex; justify-content:center; gap:0.6rem; flex-wrap:nowrap; }
.countdown-box {
    background: rgba(233,30,99,0.07);
    border: 1px solid rgba(233,30,99,0.15);
    border-radius: 14px;
    padding: 0.7rem 0.6rem;
    flex: 1 1 0;
    min-width: 0;
    max-width: 90px;
    text-align: center;
}
.countdown-box .val { display:block; font-size:1.9rem; font-weight:700; color:var(--pink-hot); }
.countdown-box .lbl { display:block; font-size:0.7rem; text-transform:uppercase; letter-spacing:1.5px; color:var(--pink-mid); margin-top:2px; }

/* ============================================================
   DAY 1 â€” ROSE DAY (Feb 8)
   ============================================================ */
#day1 { display:none; }
#day1 .day-badge { background: rgba(233,30,99,0.1); color: var(--pink-hot); }
#day1 .day-headline .name { color: var(--pink-hot); }
#day1 .day-sub { color: var(--pink-mid); }

.btn-row {
    display:flex; justify-content:center; align-items:center;
    gap:1.2rem; flex-wrap:wrap; position:relative;
    min-height:64px;
}
.btn {
    font-family:'Playfair Display',serif;
    font-size:1.15rem; font-weight:700;
    padding:0.75rem 2rem; border:none;
    border-radius:50px; cursor:pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    user-select:none; -webkit-user-select:none;
    white-space: nowrap;
}
.btn-yes {
    background: linear-gradient(135deg, var(--pink-hot), var(--red-deep));
    color:#fff;
    box-shadow: 0 4px 18px rgba(233,30,99,0.4);
    position: relative; overflow:hidden; z-index:1;
}
.btn-yes::before {
    content:''; position:absolute; inset:0;
    background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.2) 50%, transparent 60%);
    transform:translateX(-100%); transition:transform 0.5s;
}
.btn-yes:hover::before { transform:translateX(100%); }
.btn-yes:hover { transform:translateY(-3px) scale(1.06); box-shadow:0 8px 28px rgba(233,30,99,0.5); }

.btn-no {
    background: #fce4ec; color: var(--pink-hot);
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    position: absolute; z-index:0;
    transition: background 0.3s, font-size 0.3s, padding 0.3s;
}
.btn-no:hover { box-shadow: 0 4px 14px rgba(0,0,0,0.12); }

.escape-count {
    font-family:'Caveat',cursive; font-size:0.9rem;
    color:var(--pink-mid); margin-top:0.7rem;
    min-height:1.3em; opacity:0; transition:opacity 0.4s;
}
.escape-count.visible { opacity:1; }

/* Day1 celebration */
.d1-celeb { display:none; text-align:center; position:relative; z-index:2; width:92%; max-width:480px; animation:cardIn 0.7s cubic-bezier(0.175,0.885,0.32,1.275) both; }
.d1-celeb .big-emoji { font-size:5rem; display:block; animation:celebPop 0.6s cubic-bezier(0.175,0.885,0.32,1.275) both; }
@keyframes celebPop { from{transform:scale(0) rotate(-20deg);opacity:0} to{transform:scale(1) rotate(0);opacity:1} }
.d1-celeb h1 { font-size:clamp(1.9rem,6vw,2.6rem); color:var(--pink-hot); margin:0.5rem 0 0.2rem; }
.d1-celeb .sub { font-family:'Caveat',cursive; font-size:1.2rem; color:var(--pink-mid); margin-bottom:1.2rem; }
.d1-celeb .msg { font-size:1rem; color:var(--charcoal); line-height:1.7; max-width:380px; margin:0 auto 1.4rem; font-style:italic; }
.d1-celeb .heart-row { font-size:1.5rem; letter-spacing:0.4rem; }

/* ============================================================
   DAY 2 â€” PROPOSE DAY (Feb 9)
   ============================================================ */
#day2 { display:none; }
#day2 .day-badge { background: rgba(194,24,91,0.1); color: var(--red-deep); }
#day2 .day-headline .name { color: var(--red-deep); }
#day2 .day-sub { color: var(--red-deep); opacity:0.7; }

.propose-scene { font-size:3.8rem; margin-bottom:0.6rem; animation: proposeBob 2s ease-in-out infinite; }
@keyframes proposeBob { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-8px)} }

.propose-ring {
    display:inline-block; font-size:2.2rem;
    animation: ringSpin 3s ease-in-out infinite;
    margin-bottom:1rem;
}
@keyframes ringSpins { 0%,100%{transform:rotate(0deg)} 50%{transform:rotate(15deg)} }

.d2-btns { display:flex; justify-content:center; gap:1rem; flex-wrap:wrap; position:relative; min-height:56px; align-items:center; }
.d2-yes {
    background: linear-gradient(135deg, #c2185b, #880e4f);
    color:#fff; font-family:'Playfair Display',serif;
    font-size:1.15rem; font-weight:700;
    padding:0.75rem 2rem; border:none; border-radius:50px;
    cursor:pointer; box-shadow:0 4px 20px rgba(194,24,91,0.45);
    transition:transform 0.2s, box-shadow 0.2s; z-index:1; position:relative;
    white-space:nowrap;
}
.d2-yes:hover { transform:translateY(-3px) scale(1.06); box-shadow:0 8px 28px rgba(194,24,91,0.5); }
.d2-no {
    background:#fce4ec; color:var(--red-deep);
    font-family:'Playfair Display',serif;
    font-size:1.15rem; font-weight:700;
    padding:0.75rem 2rem; border:none; border-radius:50px;
    cursor:pointer; position:absolute; z-index:0;
    box-shadow:0 2px 10px rgba(0,0,0,0.08);
    transition: font-size 0.3s, padding 0.3s;
    white-space:nowrap;
}
.d2-escape { font-family:'Caveat',cursive; font-size:0.9rem; color:var(--red-deep); opacity:0.6; margin-top:0.7rem; min-height:1.3em; }

.d2-celeb { display:none; text-align:center; position:relative; z-index:2; width:92%; max-width:480px; animation:cardIn 0.7s cubic-bezier(0.175,0.885,0.32,1.275) both; }
.d2-celeb .big-emoji { font-size:5rem; display:block; animation:celebPop 0.6s cubic-bezier(0.175,0.885,0.32,1.275) both; }
.d2-celeb h1 { font-size:clamp(1.9rem,6vw,2.5rem); color:var(--red-deep); margin:0.5rem 0 0.2rem; }
.d2-celeb .sub { font-family:'Caveat',cursive; font-size:1.15rem; color:var(--red-deep); opacity:0.7; margin-bottom:1rem; }
.d2-celeb .msg { font-size:1rem; color:var(--charcoal); line-height:1.7; max-width:380px; margin:0 auto 1.2rem; font-style:italic; }
.d2-celeb .ring-row { font-size:1.8rem; letter-spacing:0.5rem; }

/* ============================================================
   DAY 3 â€” CHOCOLATE DAY (Feb 10)
   ============================================================ */
#day3 { display:none; }
#day3 .day-card { background: rgba(62,31,14,0.92); color:#f5e6d3; border-color: rgba(160,82,45,0.3); }
#day3 .day-badge { background: rgba(160,82,45,0.25); color:#e8a96c; }
#day3 .day-headline { color:#f5e6d3; }
#day3 .day-headline .name { color:#e8a96c; }
#day3 .day-sub { color:#c49a6c; }

.choc-box {
    display:grid; grid-template-columns: repeat(3,1fr);
    gap:0.8rem; margin:0 auto; max-width:380px;
}
.choc-piece {
    border-radius:14px;
    cursor:pointer; position:relative; overflow:hidden;
    transition: transform 0.3s, box-shadow 0.3s;
    display:flex; align-items:center; justify-content:center;
    font-size:1.8rem;
    min-height:110px;
    border: 2px solid rgba(160,82,45,0.4);
}
.choc-piece:hover { transform:translateY(-4px) scale(1.05); box-shadow:0 6px 20px rgba(0,0,0,0.3); }
.choc-piece.dark   { background: linear-gradient(145deg, #4a2010, #2e1308); }
.choc-piece.milk   { background: linear-gradient(145deg, #7a4a2a, #5c3318); }
.choc-piece.white  { background: linear-gradient(145deg, #f0e0c8, #d9c4a0); color:#3e1f0e; }
.choc-piece.opened { transform:scale(1); opacity:1; cursor:default; }
.choc-piece .choc-msg {
    position:absolute; inset:0;
    background: rgba(62,31,14,0.96);
    display:flex; align-items:center; justify-content:center;
    flex-direction:column; gap:6px;
    opacity:0; transition:opacity 0.35s;
    border-radius:12px; padding:0.7rem 0.6rem;
    font-size:0.82rem; line-height:1.4; text-align:center;
    color:#f0dcc8; font-family:'Caveat',cursive; font-weight:600;
}
.choc-piece.opened .choc-msg { opacity:1; }
.choc-piece .choc-icon { font-size:1.2rem; }

/* ============================================================
   DAY 4 â€” TEDDY DAY (Feb 11)
   ============================================================ */
#day4 { display:none; }
#day4 .day-card { background: rgba(255,243,224,0.92); border-color:rgba(198,134,66,0.25); }
#day4 .day-badge { background: rgba(198,134,66,0.15); color: var(--teddy-brown); }
#day4 .day-headline .name { color: var(--teddy-brown); }
#day4 .day-sub { color: var(--teddy-brown); opacity:0.7; }

.teddy-wrap {
    width:160px; height:160px; margin:0 auto 1rem;
    position:relative; cursor:pointer;
    user-select:none; -webkit-user-select:none;
}
.teddy-body {
    width:100%; height:100%;
    background: radial-gradient(ellipse at 35% 35%, var(--teddy-light), var(--teddy-brown));
    border-radius:45% 45% 50% 50%;
    position:relative; overflow:hidden;
    transition:transform 0.2s;
    box-shadow: 0 6px 24px rgba(160,90,30,0.3);
}
.teddy-wrap:active .teddy-body { transform:scale(0.93); }
/* ears */
.teddy-ear {
    position:absolute; width:42px; height:42px;
    background: var(--teddy-brown); border-radius:50%;
    top:-16px;
}
.teddy-ear.left  { left:18px; }
.teddy-ear.right { right:18px; }
.teddy-ear-inner {
    position:absolute; width:22px; height:22px;
    background: var(--teddy-light); border-radius:50%;
    top:8px;
}
.teddy-ear.left .teddy-ear-inner  { left:10px; }
.teddy-ear.right .teddy-ear-inner { left:10px; }
/* face */
.teddy-face { position:absolute; inset:0; }
.teddy-eye {
    position:absolute; width:14px; height:14px;
    background:#1a0a00; border-radius:50%;
    top:38%; box-shadow: 0 1px 3px rgba(0,0,0,0.3);
}
.teddy-eye.left  { left:28%; }
.teddy-eye.right { right:28%; }
.teddy-eye .eye-shine { position:absolute; width:5px; height:5px; background:#fff; border-radius:50%; top:2px; left:3px; }
.teddy-nose {
    position:absolute; width:12px; height:9px;
    background:#1a0a00; border-radius:50%; top:50%; left:50%;
    transform:translate(-50%,-50%);
}
.teddy-mouth {
    position:absolute; top:56%; left:50%; transform:translateX(-50%);
    width:18px; height:10px; border-bottom:2.5px solid #1a0a00;
    border-radius:0 0 50% 50%; border-top:none;
}
/* arms */
.teddy-arm {
    position:absolute; width:30px; height:50px;
    background:var(--teddy-brown); border-radius:50%;
    top:52%; transition: transform 0.3s;
}
.teddy-arm.left  { left:-8px; transform:rotate(-15deg); transform-origin: top center; }
.teddy-arm.right { right:-8px; transform:rotate(15deg); transform-origin: top center; }
.teddy-wrap:active .teddy-arm.left  { transform:rotate(25deg); }
.teddy-wrap:active .teddy-arm.right { transform:rotate(-25deg); }
/* belly patch */
.teddy-belly {
    position:absolute; width:56px; height:46px;
    background: var(--teddy-light); border-radius:50%;
    bottom:18%; left:50%; transform:translateX(-50%);
    opacity:0.6;
}

.teddy-msg {
    font-family:'Caveat',cursive; font-size:1.1rem;
    color:var(--teddy-brown); min-height:2em;
    margin-top:0.3rem; font-weight:600;
    transition: opacity 0.4s;
}
.teddy-hug-count { font-size:0.82rem; color:var(--teddy-brown); opacity:0.5; margin-top:0.4rem; }

/* teddy heart burst */
.teddy-heart-burst {
    position:absolute; pointer-events:none; z-index:3;
    font-size:1.4rem; animation: heartFloat 1.2s ease-out forwards;
}
@keyframes heartFloat {
    0%   { opacity:1; transform:translateY(0) scale(1); }
    100% { opacity:0; transform:translateY(-70px) scale(0.5); }
}

/* ============================================================
   DAY 5 â€” PROMISE DAY (Feb 12)
   ============================================================ */
#day5 { display:none; }
#day5 .day-card {
    background: linear-gradient(180deg, rgba(245,230,200,0.95), rgba(235,215,180,0.95));
    border-color: rgba(44,24,16,0.15);
    box-shadow: 0 10px 44px rgba(44,24,16,0.12), 0 2px 6px rgba(0,0,0,0.05),
                inset 0 0 40px rgba(200,170,120,0.1);
}
#day5 .day-badge { background:rgba(44,24,16,0.1); color:var(--promise-ink); }
#day5 .day-headline { color:var(--promise-ink); }
#day5 .day-headline .name { color:var(--choc-mid); }
#day5 .day-sub { color:var(--choc-mid); }

.promise-scroll {
    border-top: 2px solid rgba(44,24,16,0.15);
    border-bottom: 2px solid rgba(44,24,16,0.15);
    padding:0; margin:0 auto; max-width:380px;
    overflow:hidden; border-radius:8px;
}
.promise-item {
    padding: 0.95rem 1.1rem;
    border-bottom: 1px dashed rgba(44,24,16,0.15);
    display:flex; align-items:flex-start; gap:0.7rem;
    opacity:0; max-height:0; overflow:hidden;
    transition: opacity 0.5s ease, max-height 0.6s ease, padding 0.4s ease;
}
.promise-item:last-child { border-bottom:none; }
.promise-item.revealed { opacity:1; max-height:120px; padding:0.95rem 1.1rem; }
.promise-num {
    font-family:'Cinzel',serif; font-size:0.72rem;
    color:var(--choc-mid); font-weight:600;
    background:rgba(44,24,16,0.08); border-radius:50%;
    width:24px; height:24px; display:flex;
    align-items:center; justify-content:center; flex-shrink:0;
    margin-top:1px;
}
.promise-text {
    font-family:'Caveat',cursive; font-size:1.05rem;
    color:var(--promise-ink); line-height:1.5; font-weight:600;
    text-align:left;
}

.promise-tap {
    font-family:'Caveat',cursive; font-size:1rem;
    color:var(--choc-mid); margin-top:1rem; opacity:0.8;
    cursor:pointer; padding:0.5rem 1.2rem;
    border:1px solid rgba(44,24,16,0.2); border-radius:20px;
    background:rgba(44,24,16,0.04); transition:background 0.2s;
    display:inline-block;
}
.promise-tap:hover { background:rgba(44,24,16,0.1); }
.promise-tap.hidden { display:none; }

/* ============================================================
   DAY 6 â€” HUG DAY (Feb 13)
   ============================================================ */
#day6 { display:none; }
#day6 .day-card { background:rgba(255,236,240,0.92); border-color:rgba(233,30,99,0.15); }
#day6 .day-badge { background:rgba(233,30,99,0.1); color:var(--pink-hot); }
#day6 .day-headline .name { color:var(--pink-hot); }
#day6 .day-sub { color:var(--pink-mid); }

.hug-scene {
    display:flex; align-items:flex-end; justify-content:center;
    gap:0; height:130px; margin:0.5rem auto 0.8rem; position:relative;
    cursor:pointer; user-select:none; -webkit-user-select:none;
}
/* silhouettes */
.hug-person {
    width:70px; height:120px; position:relative;
    transition: transform 0.6s cubic-bezier(0.175,0.885,0.32,1.275);
}
.hug-person.left  { transform: translateX(0); }
.hug-person.right { transform: translateX(0); }
.hug-scene.hugging .hug-person.left  { transform: translateX(18px); }
.hug-scene.hugging .hug-person.right { transform: translateX(-18px); }

/* simple silhouette shapes via CSS */
.hug-head {
    width:32px; height:32px; border-radius:50%;
    position:absolute; top:0; left:50%; transform:translateX(-50%);
}
.hug-torso {
    width:44px; height:62px; border-radius:22px 22px 10px 10px;
    position:absolute; top:28px; left:50%; transform:translateX(-50%);
}
.hug-person.left .hug-head,
.hug-person.left .hug-torso { background: linear-gradient(160deg,#e91e63,#c2185b); }
.hug-person.right .hug-head,
.hug-person.right .hug-torso { background: linear-gradient(160deg,#ec407a,#ad1457); }

.hug-arms {
    position:absolute; top:42px; width:100%; height:50px;
    transition: all 0.6s cubic-bezier(0.175,0.885,0.32,1.275);
}
.hug-person.left .hug-arms  { left:0; }
.hug-person.right .hug-arms { left:0; }
/* arms as pseudo-elements */
.hug-arm {
    position:absolute; width:28px; height:38px;
    border-radius:14px; top:0;
}
.hug-person.left .hug-arm  { background:linear-gradient(160deg,#e91e63,#c2185b); left:100%; transform-origin:top left; transform:rotate(12deg); transition:transform 0.6s cubic-bezier(0.175,0.885,0.32,1.275); }
.hug-person.right .hug-arm { background:linear-gradient(160deg,#ec407a,#ad1457); right:100%; transform-origin:top right; transform:rotate(-12deg); transition:transform 0.6s cubic-bezier(0.175,0.885,0.32,1.275); }
.hug-scene.hugging .hug-person.left .hug-arm  { transform:rotate(40deg); }
.hug-scene.hugging .hug-person.right .hug-arm { transform:rotate(-40deg); }

.hug-hearts {
    position:absolute; top:-10px; left:50%; transform:translateX(-50%);
    font-size:1.3rem; opacity:0; transition:opacity 0.5s 0.3s;
    white-space:nowrap; letter-spacing:0.3rem;
}
.hug-scene.hugging .hug-hearts { opacity:1; }

.hug-tap-hint {
    font-family:'Caveat',cursive; font-size:1rem;
    color:var(--pink-mid); margin-top:0.2rem;
}
.hug-scene.hugging ~ .hug-tap-hint { opacity:0; }

.hug-msg {
    font-family:'Caveat',cursive; font-size:1.1rem;
    color:var(--pink-hot); font-weight:600;
    min-height:1.6em; margin-top:0.5rem;
    opacity:0; transition:opacity 0.5s 0.4s;
}
.hug-scene.hugging ~ .hug-msg { opacity:1; }

/* ============================================================
   DAY 7 â€” KISS DAY / VALENTINE'S DAY (Feb 14)
   ============================================================ */
#day7 { display:none; }
#day7 .day-card {
    background: linear-gradient(145deg, rgba(255,235,240,0.95), rgba(255,215,225,0.9));
    border-color: rgba(233,30,99,0.2);
    box-shadow: 0 12px 50px rgba(233,30,99,0.18), 0 2px 8px rgba(0,0,0,0.06);
}
#day7 .day-badge { background:linear-gradient(135deg,var(--pink-hot),var(--red-deep)); color:#fff; }
#day7 .day-headline { color:var(--pink-hot); font-size:clamp(1.9rem,6.5vw,2.6rem); }
#day7 .day-headline .name { color:var(--red-deep); }
#day7 .day-sub { color:var(--pink-mid); font-size:1.25rem; }

.valentine-heart {
    font-size:4.5rem; display:block; margin:0 auto 0.5rem;
    animation: heartbeat 1.3s ease-in-out infinite;
    filter:drop-shadow(0 4px 10px rgba(233,30,99,0.4));
}
@keyframes heartbeat { 0%,100%{transform:scale(1)} 14%{transform:scale(1.22)} 28%{transform:scale(1)} 42%{transform:scale(1.14)} }

.valentine-msg {
    font-size:1.05rem; color:var(--charcoal); line-height:1.8;
    max-width:400px; margin:0 auto 1.4rem; font-style:italic;
    text-align:center;
}
.valentine-sign {
    font-family:'Caveat',cursive; font-size:1.4rem;
    color:var(--pink-hot); font-weight:700;
}
.valentine-bottom { font-size:1.6rem; letter-spacing:0.4rem; margin-top:1rem; }

/* ============================================================
   ENDED SCREEN (after Feb 14)
   ============================================================ */
.ended-screen .day-card { max-width:440px; }
.ended-screen .big-emoji { font-size:4rem; display:block; margin-bottom:0.5rem; }
.ended-screen h1 { font-size:clamp(1.7rem,5.5vw,2.2rem); color:var(--pink-hot); margin-bottom:0.3rem; }
.ended-screen .sub { font-family:'Caveat',cursive; font-size:1.1rem; color:var(--pink-mid); }

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media(max-width:480px){
    .day-card { padding:2rem 1.3rem 1.8rem; }
    .choc-box { max-width:320px; }
    .teddy-wrap { width:130px; height:130px; }
    .hug-person { width:58px; height:100px; }
    .hug-head { width:26px; height:26px; }
    .hug-torso { width:36px; height:52px; top:23px; }
    .hug-arm { width:22px; height:32px; }
    .hug-scene.hugging .hug-person.left  { transform:translateX(14px); }
    .hug-scene.hugging .hug-person.right { transform:translateX(-14px); }
}
</style>
</head>
<body>

<div class="particle-layer" id="particleLayer"></div>
<canvas id="confettiCanvas"></canvas>

<!-- ===== COUNTDOWN (before Feb 8) ===== -->
<div class="countdown-screen" id="screenCountdown" style="display:none;">
    <div class="day-card">
        <span class="big-emoji">ğŸ’</span>
        <h1>Valentine's Week</h1>
        <p class="sub">The fun begins soon, Kikiâ€¦</p>
        <div class="countdown-numbers">
            <div class="countdown-box"><span class="val" id="cdDays">00</span><span class="lbl">Days</span></div>
            <div class="countdown-box"><span class="val" id="cdHours">00</span><span class="lbl">Hours</span></div>
            <div class="countdown-box"><span class="val" id="cdMins">00</span><span class="lbl">Mins</span></div>
            <div class="countdown-box"><span class="val" id="cdSecs">00</span><span class="lbl">Secs</span></div>
        </div>
    </div>
</div>

<!-- ===== DAY 1 â€” ROSE DAY ===== -->
<div id="day1">
    <div class="day-card">
        <span class="day-badge">ğŸŒ¹ Day 1 â€” Rose Day</span>
        <div class="heart-icon" style="font-size:3.2rem; display:block; margin-bottom:0.4rem; animation:heartbeat 1.4s ease-in-out infinite; filter:drop-shadow(0 3px 6px rgba(233,30,99,0.3));">ğŸ’</div>
        <h2 class="day-headline">Hey <span class="name">Kiki</span>,<br>Will you be my Valentine? <br> ğŸŒ¹</h2>
        <p class="day-sub" id="d1Cheeky">Go onâ€¦ you know the answer ğŸ˜</p>
        <!-- name used throughout: Kiki -->
        <div class="btn-row" id="d1BtnRow">
            <button class="btn btn-yes" id="d1Yes" onclick="d1Yes()">Yes! ğŸ’•</button>
            <button class="btn btn-no" id="d1No" onclick="d1No()">No</button>
        </div>
        <p class="escape-count" id="d1EscCount"></p>
    </div>
    <div class="d1-celeb" id="d1Celeb">
        <span class="big-emoji">ğŸ¥°</span>
        <h1>Yay! Best news ever!</h1>
        <p class="sub">I knew it all along ğŸ˜„</p>
        <p class="msg">Being your Valentine isn't just a day â€” it's every single day I get to be yours. Looking forward to making every moment count with you.</p>
        <div class="heart-row">ğŸ’ ğŸ’• ğŸ’– ğŸ’— ğŸ’“</div>
    </div>
</div>

<!-- ===== DAY 2 â€” PROPOSE DAY ===== -->
<div id="day2">
    <div class="day-card">
        <span class="day-badge">ğŸ’ Day 2 â€” Propose Day</span>
        <div class="propose-scene">ğŸ§â€â™‚ï¸</div>
        <div class="propose-ring">ğŸ’</div>
        <h2 class="day-headline"><span class="name">Kiki</span>, will you<br>do me the honour?</h2>
        <p class="day-sub" id="d2Sub">Say yes alreadyâ€¦ ğŸ˜˜</p>
        <div class="d2-btns" id="d2BtnRow">
            <button class="d2-yes" id="d2Yes" onclick="d2Yes()">Of course! ğŸ’</button>
            <button class="d2-no" id="d2No" onclick="d2No()">Maybeâ€¦</button>
        </div>
        <p class="d2-escape" id="d2EscCount"></p>
    </div>
    <div class="d2-celeb" id="d2Celeb">
        <span class="big-emoji">ğŸ’âœ¨</span>
        <h1>She said YES!</h1>
        <p class="sub">The happiest guy alive right now ğŸ˜</p>
        <p class="msg">Every moment with you is a proposal I never want to take back. You're my forever, Kiki.</p>
        <div class="ring-row">ğŸ’ ğŸ’« ğŸ’ ğŸ’« ğŸ’</div>
    </div>
</div>

<!-- ===== DAY 3 â€” CHOCOLATE DAY ===== -->
<div id="day3">
    <div class="day-card">
        <span class="day-badge">ğŸ« Day 3 â€” Chocolate Day</span>
        <h2 class="day-headline" style="color:#f5e6d3;">A box just for<br><span class="name">you</span> ğŸ«</h2>
        <p class="day-sub">Tap each chocolateâ€¦ sweet surprises inside</p>
        <div class="choc-box" id="chocBox"></div>
    </div>
</div>

<!-- ===== DAY 4 â€” TEDDY DAY ===== -->
<div id="day4">
    <div class="day-card">
        <span class="day-badge">ğŸ» Day 4 â€” Teddy Day</span>
        <h2 class="day-headline">Give him a hug,<br><span class="name">Kiki</span>!</h2>
        <p class="day-sub">Tap the teddyâ€¦ he loves it ğŸ¥°</p>
        <div class="teddy-wrap" id="teddyWrap" onclick="teddyHug()">
            <div class="teddy-ear left"><div class="teddy-ear-inner"></div></div>
            <div class="teddy-ear right"><div class="teddy-ear-inner"></div></div>
            <div class="teddy-body">
                <div class="teddy-belly"></div>
                <div class="teddy-face">
                    <div class="teddy-eye left"><div class="eye-shine"></div></div>
                    <div class="teddy-eye right"><div class="eye-shine"></div></div>
                    <div class="teddy-nose"></div>
                    <div class="teddy-mouth"></div>
                </div>
                <div class="teddy-arms">
                    <div class="teddy-arm left"></div>
                    <div class="teddy-arm right"></div>
                </div>
            </div>
        </div>
        <p class="teddy-msg" id="teddyMsg">Tap me! I'm waitingâ€¦</p>
        <p class="teddy-hug-count" id="teddyCount"></p>
    </div>
</div>

<!-- ===== DAY 5 â€” PROMISE DAY ===== -->
<div id="day5">
    <div class="day-card">
        <span class="day-badge">ğŸ“œ Day 5 â€” Promise Day</span>
        <h2 class="day-headline">Promises I make<br>to <span class="name">you</span></h2>
        <p class="day-sub">Tap to reveal, one by oneâ€¦</p>
        <div class="promise-scroll" id="promiseScroll"></div>
        <div class="promise-tap" id="promiseTap" onclick="revealNext()">Tap to reveal the next promise âœ¨</div>
    </div>
</div>

<!-- ===== DAY 6 â€” HUG DAY ===== -->
<div id="day6">
    <div class="day-card">
        <span class="day-badge">ğŸ¤— Day 6 â€” Hug Day</span>
        <h2 class="day-headline">A hug just for<br><span class="name">you</span></h2>
        <p class="day-sub">Tap them togetherâ€¦ ğŸ¤—</p>
        <div class="hug-scene" id="hugScene" onclick="doHug()">
            <div class="hug-person left">
                <div class="hug-head"></div>
                <div class="hug-torso"></div>
                <div class="hug-arms"><div class="hug-arm"></div></div>
            </div>
            <div class="hug-person right">
                <div class="hug-head"></div>
                <div class="hug-torso"></div>
                <div class="hug-arms"><div class="hug-arm"></div></div>
            </div>
            <div class="hug-hearts">ğŸ’• ğŸ’– ğŸ’•</div>
        </div>
        <p class="hug-tap-hint" id="hugHint">ğŸ‘† Tap to hug!</p>
        <p class="hug-msg" id="hugMsg">You deserve the tightest hug in the whole worldâ€¦ and I'm never letting go. ğŸ¥°</p>
    </div>
</div>

<!-- ===== DAY 7 â€” KISS DAY ===== -->
<div id="day7">
    <div class="day-card">
        <span class="day-badge">ğŸ’ Valentine's Day</span>
        <span class="valentine-heart">ğŸ’</span>
        <h2 class="day-headline">Happy Valentine's Day,<br><span class="name">Kiki</span></h2>
        <p class="day-sub">The most special dayâ€¦ with the most special person ğŸ’«</p>
        <p class="valentine-msg">
            This whole week was just the beginning. Every single day with you is Valentine's Day for me.
            You make the ordinary feel extraordinary, and the extraordinary feel like home.
            I'm yours â€” today, tomorrow, and every day after that. Always.
        </p>
        <p class="valentine-sign">â€” Balaji ğŸ’</p>
        <div class="valentine-bottom">ğŸ’‹ ğŸ’ ğŸ’• ğŸ’– ğŸ’—</div>
    </div>
</div>

<!-- ===== ENDED (after Feb 14) ===== -->
<div class="ended-screen" id="screenEnded" style="display:none;">
    <div class="day-card">
        <span class="big-emoji">ğŸ’</span>
        <h1>Valentine's Week is over!</h1>
        <p class="sub">But every day with you is still Valentine's Day ğŸ˜</p>
    </div>
</div>

<script>
// ============================================================
//  CORE: DATE DETECTION & DAY ROUTING
// ============================================================
// ---- CHANGE THIS LINE TO TEST DIFFERENT DAYS ----
// Examples:
//   new Date(2026, 1, 5, 12, 0, 0)  â†’ Countdown
//   new Date(2026, 1, 8, 12, 0, 0)  â†’ Rose Day
//   new Date(2026, 1, 10, 12, 0, 0) â†’ Chocolate Day
//   new Date(2026, 1, 14, 12, 0, 0) â†’ Valentine's Day
// Set back to  new Date()  when done testing.
let NOW = new Date(2026, 1, 8, 12, 0, 0);
// ---- END ----

(function init() {
    const feb8     = new Date(NOW.getFullYear(), 1, 8, 0, 0, 0);
    const feb14end = new Date(NOW.getFullYear(), 1, 14, 23, 59, 59);

    if (NOW < feb8) {
        document.getElementById('screenCountdown').style.display = 'flex';
        startCountdown(feb8);
    } else if (NOW > feb14end) {
        document.getElementById('screenEnded').style.display = 'flex';
        spawnParticles(['ğŸ’','ğŸ’–','ğŸ’—']);
    } else {
        const dayIndex = NOW.getDate() - 7; // 8â†’1, 9â†’2 â€¦ 14â†’7
        showDay(dayIndex);
    }
})();

function showDay(n) {
    // Hide everything
    ['screenCountdown','screenEnded','day1','day2','day3','day4','day5','day6','day7'].forEach(id => {
        document.getElementById(id).style.display = 'none';
    });

    const el = document.getElementById('day' + n);
    el.style.display = 'flex';
    el.style.flexDirection = 'column';
    el.style.alignItems = 'center';

    // Set particles & bg per day
    const configs = {
        1: { particles:['ğŸŒ¹','ğŸŒ¸','ğŸ’'], bg:'linear-gradient(160deg,#fff5f7 0%,#fce4ec 100%)' },
        2: { particles:['ğŸ’','âœ¨','ğŸ’«'], bg:'linear-gradient(160deg,#fff0f3 0%,#fce4ec 100%)' },
        3: { particles:['ğŸ«','ğŸ¬','âœ¨'], bg:'linear-gradient(160deg,#2a1508 0%,#3e1f0e 100%)' },
        4: { particles:['ğŸ»','ğŸ’›','ğŸŒ»'], bg:'linear-gradient(160deg,#fff8ee 0%,#fff3e0 100%)' },
        5: { particles:['ğŸ“œ','âœ¨','ğŸ•Šï¸'], bg:'linear-gradient(160deg,#fdf5e6 0%,#f5e6c8 100%)' },
        6: { particles:['ğŸ¤—','ğŸ’•','ğŸ’–'], bg:'linear-gradient(160deg,#fff0f3 0%,#ffecf0 100%)' },
        7: { particles:['ğŸ’','ğŸ˜˜','âœ¨','ğŸ’«'], bg:'linear-gradient(160deg,#fff5f7 0%,#ffe8ec 100%)' }
    };
    const cfg = configs[n];
    document.body.style.background = cfg.bg;
    spawnParticles(cfg.particles);

    // Auto-trigger day 7 confetti
    if (n === 7) { setTimeout(launchConfetti, 800); }
}

// ============================================================
//  COUNTDOWN TIMER (before Feb 8)
// ============================================================
function startCountdown(target) {
    document.body.style.background = 'linear-gradient(160deg,#fff5f7 0%,#fce4ec 100%)';
    spawnParticles(['ğŸ’','ğŸŒ¹','ğŸ’']);
    let current = NOW.getTime(); // starts from your test date, ticks +1s each call
    function tick() {
        const diff = target.getTime() - current;
        current += 1000; // tick forward 1 second
        if (diff <= 0) {
            document.getElementById('cdDays').textContent  = '00';
            document.getElementById('cdHours').textContent = '00';
            document.getElementById('cdMins').textContent  = '00';
            document.getElementById('cdSecs').textContent  = '00';
            return; // stop ticking, don't reload
        }
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        document.getElementById('cdDays').textContent  = pad(d);
        document.getElementById('cdHours').textContent = pad(h);
        document.getElementById('cdMins').textContent  = pad(m);
        document.getElementById('cdSecs').textContent  = pad(s);
    }
    tick();
    setInterval(tick, 1000);
}
function pad(n) { return n < 10 ? '0'+n : ''+n; }

// ============================================================
//  FLOATING PARTICLES
// ============================================================
function spawnParticles(emojis) {
    const container = document.getElementById('particleLayer');
    container.innerHTML = '';
    for (let i = 0; i < 24; i++) {
        const p = document.createElement('div');
        p.className = 'particle';
        p.textContent = emojis[Math.floor(Math.random() * emojis.length)];
        p.style.left = Math.random()*100 + '%';
        p.style.animationDuration = (Math.random()*9+7) + 's';
        p.style.animationDelay = (Math.random()*12) + 's';
        p.style.fontSize = (Math.random()*0.7+0.9) + 'rem';
        container.appendChild(p);
    }
}

// ============================================================
//  DAY 1 â€” ROSE DAY logic
// ============================================================
(function() {
    let escapes = 0;
    const cheekyMsgs = [
        "Are you sure? ğŸ‘€","Really though? ğŸ™„","Come on, don't be shyâ€¦",
        "You can't fool me! ğŸ˜¤","Last chanceâ€¦ ğŸ˜˜","Seriously? ğŸ˜‚",
        "I'm not giving up! ğŸ’ª","Fineâ€¦ but I'll ask again ğŸ˜‰",
        "You know you want to say Yesâ€¦","The Yes button is RIGHT there ğŸ‘‰"
    ];
    const noTexts = ["No","No!","Noâ€¦","Nope","No way","Absolutely not","Never!","â€¦no?","Run!"];

    window.d1No = function() {
        escapes++;
        document.getElementById('d1EscCount').textContent = `(Escape #${escapes}â€¦ nice try ğŸ˜„)`;
        document.getElementById('d1EscCount').classList.add('visible');
        document.getElementById('d1Cheeky').textContent = cheekyMsgs[Math.min(escapes-1, cheekyMsgs.length-1)];

        const noBtn = document.getElementById('d1No');
        noBtn.textContent = noTexts[Math.min(escapes, noTexts.length-1)];

        // Grow Yes
        const yesBtn = document.getElementById('d1Yes');
        yesBtn.style.transform = `scale(${Math.min(1 + escapes*0.06, 1.6)})`;

        // Shrink No
        const s = Math.max(1 - escapes*0.08, 0.55);
        noBtn.style.fontSize = (1.15*s)+'rem';
        noBtn.style.padding = (0.75*s)+'rem '+(2*s)+'rem';

        // Fling
        const randX = (Math.random()-0.5)*260;
        const randY = (Math.random()-0.5)*70;
        noBtn.style.position = 'relative';
        noBtn.style.transform = `translate(${randX}px,${randY}px)`;
        noBtn.style.transition = 'transform 0.25s cubic-bezier(0.175,0.885,0.32,1.275)';
        setTimeout(() => { noBtn.style.position = 'absolute'; }, 260);
    };

    window.d1Yes = function() {
        document.getElementById('day1').querySelector('.day-card').style.display = 'none';
        document.getElementById('d1Celeb').style.display = 'block';
        document.body.style.background = 'linear-gradient(135deg,#fff0f3 0%,#ffe0e6 100%)';
        launchConfetti();
    };
})();

// ============================================================
//  DAY 2 â€” PROPOSE DAY logic
// ============================================================
(function() {
    let escapes = 0;
    const msgs = [
        "Are you sure? ğŸ¥º","Come onâ€¦ ğŸ˜¤","Really? ğŸ˜",
        "I'll wait all dayâ€¦ ğŸ˜˜","Please? ğŸ™","Last chance! ğŸ˜‚",
        "You know you want toâ€¦ ğŸ˜‰","I'm not giving up! ğŸ’ª"
    ];
    const noTexts = ["Maybeâ€¦","Hmmâ€¦","Perhapsâ€¦","Nah","No way","Definitely not","â€¦","Run!"];

    window.d2No = function() {
        escapes++;
        document.getElementById('d2EscCount').textContent = `(Escape #${escapes}â€¦ keep trying ğŸ˜„)`;
        document.getElementById('d2Sub').textContent = msgs[Math.min(escapes-1, msgs.length-1)];

        const noBtn = document.getElementById('d2No');
        noBtn.textContent = noTexts[Math.min(escapes, noTexts.length-1)];

        const yesBtn = document.getElementById('d2Yes');
        yesBtn.style.transform = `scale(${Math.min(1 + escapes*0.07, 1.55)})`;

        const s = Math.max(1 - escapes*0.09, 0.5);
        noBtn.style.fontSize = (1.15*s)+'rem';
        noBtn.style.padding = (0.75*s)+'rem '+(2*s)+'rem';

        const randX = (Math.random()-0.5)*240;
        const randY = (Math.random()-0.5)*60;
        noBtn.style.position = 'relative';
        noBtn.style.transform = `translate(${randX}px,${randY}px)`;
        noBtn.style.transition = 'transform 0.25s cubic-bezier(0.175,0.885,0.32,1.275)';
        setTimeout(() => { noBtn.style.position = 'absolute'; }, 260);
    };

    window.d2Yes = function() {
        document.getElementById('day2').querySelector('.day-card').style.display = 'none';
        document.getElementById('d2Celeb').style.display = 'block';
        document.body.style.background = 'linear-gradient(135deg,#fff0f3 0%,#ffe0e6 100%)';
        launchConfetti();
    };
})();

// ============================================================
//  DAY 3 â€” CHOCOLATE DAY logic
// ============================================================
(function() {
    const chocolates = [
        { type:'dark',  emoji:'ğŸ«', msg:'You are the sweetest girl I know.' },
        { type:'milk',  emoji:'ğŸ¬', msg:'Every moment with you melts my heart.' },
        { type:'white', emoji:'ğŸ’›', msg:'You light up my entire world, Kiki.' },
        { type:'dark',  emoji:'ğŸŒ™', msg:'I\'d talk to you forever and never get bored.' },
        { type:'milk',  emoji:'ğŸŒ¸', msg:'Your smile is contagious' },
        { type:'white', emoji:'â˜€ï¸', msg:'Being yours is the best thing that happened to me.' },
        { type:'dark',  emoji:'ğŸµ', msg:'You make every ordinary day feel extraordinary.' },
        { type:'milk',  emoji:'ğŸ’«', msg:'I\'d pick you all over again. Every single time.' },
        { type:'white', emoji:'ğŸŒ·', msg:'You\'re not just my Valentineâ€¦ you\'re my everything.' }
    ];

    const box = document.getElementById('chocBox');
    chocolates.forEach((c, i) => {
        const piece = document.createElement('div');
        piece.className = `choc-piece ${c.type}`;
        piece.innerHTML = `<span>${c.emoji}</span><div class="choc-msg"><span class="choc-icon"></span>${c.msg}</div>`;
        piece.onclick = function() {
            if (!this.classList.contains('opened')) {
                this.classList.add('opened');
            }
        };
        box.appendChild(piece);
    });
})();

// ============================================================
//  DAY 4 â€” TEDDY DAY logic
// ============================================================
(function() {
    let hugs = 0;
    const msgs = [
        "Ooh! That tickles! ğŸ¥°",
        "Again! Again! ğŸ˜„",
        "Heheâ€¦ you're so warm!",
        "I love hugs from you! ğŸ’›",
        "Keep goingâ€¦ I'll never get enough!",
        "You're the best hugger ever! ğŸ»",
        "I think I'm falling asleepâ€¦ ğŸ˜´",
        "One more hug won't hurtâ€¦ right?",
        "Okay okayâ€¦ I'm super happy now! âœ¨"
    ];

    window.teddyHug = function() {
        hugs++;
        document.getElementById('teddyMsg').textContent = msgs[Math.min(hugs-1, msgs.length-1)];
        document.getElementById('teddyCount').textContent = `Hugs: ${hugs}`;

        // Spawn a heart near teddy
        const wrap = document.getElementById('teddyWrap');
        const heart = document.createElement('div');
        heart.className = 'teddy-heart-burst';
        heart.textContent = ['ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’'][Math.floor(Math.random()*4)];
        heart.style.left = (Math.random()*60+20)+'%';
        heart.style.top = '10px';
        wrap.appendChild(heart);
        setTimeout(() => heart.remove(), 1200);
    };
})();

// ============================================================
//  DAY 5 â€” PROMISE DAY logic
// ============================================================
(function() {
    const promises = [
        "I promise to always make you laugh, even on the hardest days.",
        "I promise to hold your hand and never let go â€” figuratively and literally.",
        "I promise to be your biggest cheerleader, no matter what.",
        "I promise to make you feel loved every single day.",
        "I promise to keep surprising you, even years from now.",
        "I promise to listen â€” really listen â€” whenever you need me.",
        "I promise to be the person you can always come home to."
    ];
    let revealed = 0;

    const scroll = document.getElementById('promiseScroll');
    promises.forEach((p, i) => {
        const item = document.createElement('div');
        item.className = 'promise-item';
        item.id = 'promise-' + i;
        item.innerHTML = `<div class="promise-num">${i+1}</div><div class="promise-text">${p}</div>`;
        scroll.appendChild(item);
    });

    window.revealNext = function() {
        if (revealed >= promises.length) return;
        document.getElementById('promise-' + revealed).classList.add('revealed');
        revealed++;
        if (revealed >= promises.length) {
            document.getElementById('promiseTap').classList.add('hidden');
        }
    };
})();

// ============================================================
//  DAY 6 â€” HUG DAY logic
// ============================================================
(function() {
    let hugged = false;
    window.doHug = function() {
        if (hugged) return;
        hugged = true;
        document.getElementById('hugScene').classList.add('hugging');
    };
})();

// ============================================================
//  CONFETTI ENGINE
// ============================================================
(function() {
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    let pieces = [], animating = false;

    function resize() { canvas.width = innerWidth; canvas.height = innerHeight; }
    addEventListener('resize', resize);
    resize();

    const colors = ['#e91e63','#f06292','#ad1457','#d4af37','#fff176','#ffb74d','#fff','#f8bbd0','#ce93d8'];

    function Piece() {
        this.x = Math.random()*canvas.width;
        this.y = -Math.random()*canvas.height*0.3;
        this.vx = (Math.random()-0.5)*4;
        this.vy = Math.random()*3+2;
        this.rot = Math.random()*360;
        this.rotV = (Math.random()-0.5)*12;
        this.w = Math.random()*8+5;
        this.h = Math.random()*5+3;
        this.color = colors[Math.floor(Math.random()*colors.length)];
        this.life = 1;
    }

    function update() {
        pieces.forEach(p => { p.x+=p.vx; p.y+=p.vy; p.rot+=p.rotV; p.vy*=1.02; if(p.y>canvas.height) p.life-=0.03; });
        pieces = pieces.filter(p => p.life>0);
    }

    function draw() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        pieces.forEach(p => {
            ctx.save();
            ctx.globalAlpha = p.life;
            ctx.fillStyle = p.color;
            ctx.translate(p.x,p.y);
            ctx.rotate(p.rot*Math.PI/180);
            ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
            ctx.restore();
        });
    }

    function loop() {
        if(!animating) return;
        update(); draw();
        if(pieces.length>0) requestAnimationFrame(loop);
        else animating=false;
    }

    window.launchConfetti = function() {
        for(let i=0;i<220;i++) pieces.push(new Piece());
        animating=true; loop();
    };
})();
</script>
</body>
</html>
